<?xml version="1.0" encoding="UTF-8"?>
<nifty xmlns="http://nifty-gui.sourceforge.net/nifty-1.3.xsd">
    <screen id="galaxy_map_gui" controller="ru.game.aurora.gui.GalaxyMapController">
        <layer id="starmap_layer" childLayout="vertical">
            <panel id="topPanel" height="50px" childLayout="horizontal" padding="2px">
                <panel width="560px" height="44px" backgroundImage="resources/sprites/gui/hull_bar.png"
                       imageMode="repeat:0,0,559,44"
                       childLayout="center">
                    <control id="ship_hp" name="progressbar" width="450px" height="40px"/>
                </panel>
                <panel width="*"/>
                <panel width="40%" backgroundColor="#5050a0ff" childLayout="center">
                    <text id="crew_status" font="font.fnt" text=""/>
                </panel>
            </panel>

            <!-- midlle panel contains list of buttons to the right -->
            <panel height="*" childLayout="horizontal" >
                <panel width="85%"/>
                <panel childLayout="vertical">
                    <panel height="30%"/>
                    <panel childLayout="vertical" backgroundImage="resources/sprites/gui/side_panel.png" padding="20,5,20,20" imageMode="resize:24,240,10,24,24,240,10,201,24,240,10,24">
                        <control id="research_button" name="button" label="Research" width="90%" height="50px">
                            <interact onClick="openResearchScreen()"/>
                        </control>
                        <control id="engineering_button" name="button" label="Engineering" width="90%" height="50px">
                            <interact onClick="openEngineeringScreen()"/>
                        </control>
                        <control id="starmap_button" name="button" label="Star map" width="90%" height="50px">
                            <interact onClick="openStarMap()"/>
                        </control>
                        <control id="menu_button" name="button" label="Menu" width="90%" height="50px">
                            <interact onClick="openMenu()"/>
                        </control>
                    </panel>
                    <panel height="*"/>
                </panel>
            </panel>

            <!-- panel containing additional buttons like 'interact' 'land' 'scan' that appear only when needed -->
            <panel id="interactPanel" height="100px" childLayout="horizontal" visible="false">
                <panel width="40%"/>
                <panel style="nifty-panel" x="40%" width="200px" childLayout="center" height="100%">
                    <control id="left_button" name="button" label="Enter star system" width="90%" height="90%">
                        <interact onClick="enterStarsystem()"/>
                    </control>
                    <panel width="*"/>
                </panel>
            </panel>

            <!-- bottom panel containing weapon buttons and log text -->
            <panel height="113px" imageMode="repeat:0,0,1279,113" childLayout="horizontal"
                   backgroundImage="sprites/gui/bottom_panel_galaxy.png" padding="40px">
                <panel width="242px"/>

                <control id="log_list" name="listBox" vertical="optional" horizontal="optional" displayItems="3"
                         selection="Disabled" width="50%" height="100px"/>
                <text id="ship_coordinates" font="font.fnt" text="Ship coordinates:" width="*"/>
            </panel>

        </layer>
    </screen>
    <screen id="star_system_gui" controller="ru.game.aurora.gui.GalaxyMapController">

        <layer id="starsystem_layer" childLayout="vertical">
            <panel id="topPanel" height="50px" childLayout="horizontal" padding="2px">
                <panel width="559px" height="44px" backgroundImage="resources/sprites/gui/hull_bar.png"
                       imageMode="repeat:0,0,559,44"
                       childLayout="center">
                    <control id="ship_hp" name="progressbar" width="450px" height="40px"/>
                </panel>
                <panel width="*"/>
                <panel width="40%" backgroundColor="#5050a0ff" childLayout="center">
                    <text id="crew_status" font="font.fnt" text=""/>
                </panel>
            </panel>

            <!-- midlle panel contains list of buttons to the right -->
            <panel height="*" childLayout="horizontal">
                <panel width="85%"/>
                <panel childLayout="vertical">
                    <panel height="30%"/>
                    <panel childLayout="vertical" backgroundImage="resources/sprites/gui/side_panel.png" padding="20,5,20,20" imageMode="resize:24,240,10,24,24,240,10,201,24,240,10,24">
                        <control id="research_button" name="button" label="Research" width="90%" height="50px">
                            <interact onClick="openResearchScreen()"/>
                        </control>
                        <control id="engineering_button" name="button" label="Engineering" width="90%" height="50px">
                            <interact onClick="openEngineeringScreen()"/>
                        </control>
                        <control id="landing_party_equip_button" name="button" label="Landing party" width="90%" height="50px">
                            <interact onClick="openLandingPartyScreen()"/>
                        </control>
                        <control id="menu_button" name="button" label="Menu" width="90%" height="50px">
                            <interact onClick="openMenu()"/>
                        </control>
                    </panel>
                    <panel height="*"/>
                </panel>
            </panel>

            <!-- panel containing additional buttons like 'interact' 'land' 'scan' that appear only when needed -->
            <panel id="interactPanel" height="100px" childLayout="horizontal" visible="false">
                <panel width="40%"/>
                <panel style="nifty-panel" x="40%" width="256px" childLayout="horizontal" height="100%">
                    <control id="left_button" name="button" label="Land" width="40%" height="90%">
                        <interact onClick="leftButtonPressed()"/>
                    </control>
                    <panel width="*"/>
                    <control id="right_button" name="button" label="Scan" width="40%" height="90%">
                        <interact onClick="rightButtonPressed()"/>
                    </control>
                </panel>
            </panel>

            <!-- bottom panel containing weapon buttons and log text -->
            <panel height="113px" childLayout="horizontal" backgroundImage="sprites/gui/bottom_panel_starsystem.png"
                   imageMode="repeat:0,0,1279,113" padding="20px">
                <control id="weapon_0_button" name="image_button" label="Weapon #1" width="64px" height="64px">
                    <interact onClick="weaponClicked(0)"/>
                </control>
                <panel width="10px"/>
                <control id="weapon_1_button" enabled="false" name="image_button" label="Weapon #2" width="64px"
                         height="64px">
                    <interact onClick="weaponClicked(1)"/>
                </control>
                <panel width="10px"/>
                <control id="weapon_2_button" enabled="false" name="image_button" label="Weapon #3" width="64px"
                         height="64px">
                    <interact onClick="weaponClicked(2)"/>
                </control>
                <panel width="10px"/>
                <control id="weapon_3_button" enabled="false" name="image_button" label="Weapon #4" width="64px"
                         height="64px">
                    <interact onClick="weaponClicked(3)"/>
                </control>

                <panel width="20px"/>

                <panel width="60%" childLayout="vertical">
                    <panel height="15px"/>
                    <control id="log_list" name="listBox" vertical="optional" horizontal="optional" displayItems="3"
                             selection="Disabled" height="100px"/>
                </panel>
            </panel>
        </layer>
    </screen>
    <popup id="landing_party_lost" childLayout="absolute">
        <control id="landing_party_lost_window" name="window" hideOnClose="true" width="60%" height="350px" x="20%"
                 y="30%">
            <panel childLayout="vertical">
                <panel height="10px"/>
                <panel height="256px" childLayout="horizontal">
                    <image width="256px" filename="sprites/gui/crew_death.png"/>
                    <text width="*" height="256px" text="Lost contact with landing party" font="font.fnt"/>
                </panel>
                <panel height="10px"/>
                <panel childLayout="horizontal" height="45px">
                    <panel width="85%"/>
                    <control id="close_button" name="button" label="Ok" height="45px">
                        <interact onClick="closeCurrentPopup()"/>
                    </control>
                </panel>
            </panel>
        </control>
    </popup>

    <popup id="landing" childLayout="absolute">
        <control id="landing_window" name="window" hideOnClose="true" width="60%" height="350px" x="20%" y="30%">
            <panel childLayout="vertical" margin="10px">
                <panel height="256px" childLayout="horizontal">
                    <image id="shuttle_image" width="256px" height="256px"/>
                    <text width="*" height="256px" text="Landing..." font="font.fnt"/>
                </panel>
            </panel>
        </control>
    </popup>


    <popup id="planet_scan" childLayout="absolute">
        <control id="panet_scan_window" name="window" title="Planetary scan" hideOnClose="true" width="60%" height="80%"
                 x="20%" y="10%">
            <panel childLayout="vertical">
                <panel childLayout="horizontal" height="266px">
                    <image filename="resources/sprites/portraits/scientist.png" width="256px" height="256px"/>
                    <panel width="10px"/>
                    <panel style="nifty-listbox#scrollpanel" width="*" height="256px" childLayout="horizontal"
                           padding="5px">
                        <text width="*" height="256px" id="scan_text" font="font_white_small.fnt" textHAlign="left"
                              padding="5px"/>
                    </panel>
                </panel>
                <text font="font_white_small.fnt" text="Surface map:"/>
                <panel width="100%" height="*" childLayout="horizontal" style="nifty-panel-no-shadow" padding="5px">
                    <panel id="surfaceMapPanel" width="100%" height="90%"/>
                </panel>
                <panel height="10px"/>
                <panel childLayout="horizontal" height="45px">
                    <panel width="85%"/>
                    <control id="close_button" name="button" label="Ok" height="45px">
                        <interact onClick="closeCurrentPopup()"/>
                    </control>
                </panel>
            </panel>
        </control>
    </popup>

    <popup id="object_scan" childLayout="absolute">
        <control id="object_scan_window" name="window" title="Object scan" hideOnClose="true" width="60%" x="20%"
                 y="30%">
            <panel childLayout="vertical">
                <panel childLayout="horizontal" padding="10px" height="276px">
                    <image filename="resources/sprites/portraits/scientist.png" width="256px" height="256px"/>
                    <panel width="10px"/>
                    <panel style="nifty-listbox#scrollpanel" width="*" height="256px" childLayout="horizontal">
                        <text width="100%" height="256px" id="scan_text" font="font_white_small.fnt" textHAlign="left"
                              padding="5px" wrap="true"/>
                    </panel>
                </panel>
                <panel height="10px"/>
                <panel childLayout="horizontal" height="45px">
                    <panel width="85%"/>
                    <control id="close_button" name="button" label="Ok" height="45px">
                        <interact onClick="closeCurrentPopup()"/>
                    </control>
                </panel>
            </panel>
        </control>
    </popup>
</nifty>