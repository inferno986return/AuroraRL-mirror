<?xml version="1.0" encoding="UTF-8"?>
<nifty xmlns="http://nifty-gui.sourceforge.net/nifty-1.3.xsd">
    <screen id="earth_progress_screen" controller="ru.game.aurora.gui.EarthProgressScreenController">
        <layer childLayout="absolute">
            <control id="earth_progress_window" name="window" hideOnClose="true" width="80%" height="80%" x="10%"
                     y="10%"
                     childLayout="vertical">
                <panel childLayout="vertical" height="100%" width="100%">
                    <control id="itemsList" name="listBox" vertical="optional" horizontal="optional" displayItems="20"
                             selection="Disabled"/>
                    <panel height="20px"/>
                    <panel childLayout="horizontal" height="50px">
                        <panel width="75%"/>
                        <text id="totalText" style="button-font" text="Total:"/>
                    </panel>
                    <panel height="*"/>
                    <panel childLayout="horizontal" height="50px">
                        <panel width="70%"/>
                        <control id="close_button" name="button" label="Close" width="150px" height="45px">
                            <interact onClick="closeScreen()"/>
                        </control>
                    </panel>
                </panel>
            </control>
        </layer>
    </screen>


    <controlDefinition name="ship_line">
        <panel childLayout="horizontal" width="100%" align="right">
            <control id="#inventory_to_storage" name="button" width="32px" label="&lt;">
                <interact onClick="onShipToShipyardClicked()"/>
            </control>
            <control id="#item" name="label" align="left" textHAlign="left" width="*"/>
        </panel>
    </controlDefinition>

    <controlDefinition name="shipyard_line">
        <panel childLayout="horizontal" width="100%" align="right">
            <control id="#item" name="label" align="left" textHAlign="left" width="*"/>
            <control id="#storage_to_inventory" name="button" width="32px" label="&gt;">
                <interact onClick="onShipyardToShipClicked()"/>
            </control>
        </panel>
    </controlDefinition>

    <screen id="earth_screen" controller="ru.game.aurora.gui.EarthScreenController">

        <layer childLayout="absolute">
            <control id="earth_window" name="window" title="Earth Relay" closeable="false" width="80%" height="90%"
                     x="10%" y="5%"
                     padding="8px,8px,8px,8px">
                <panel childLayout="vertical">
                    <control id="earth_tabs" name="tabGroup" buttonWidth="30%" buttonHeight="30px" height="92%">
                        <control id="messages" name="tab" caption="Messages" childLayout="center">
                            <control name="list_screen" id="messages_list"/>
                        </control>
                        <control id="shipyard" name="tab" caption="Shipyard" childLayout="vertical">
                            <panel height="10px"/>
                            <panel childLayout="horizontal" width="100%" height="276px">

                                <panel childLayout="vertical" width="100px"  style="nifty-panel-no-shadow" >
                                    <text text="${gui.crew}" style="base-font"/>
                                    <panel height="10px"/>
                                    <control name="icon_and_count" id="sci_count" icon="resources/sprites/gui/sci_count.png" width="100px" height="50px">
                                        <effect>
                                            <onHover name="custom-hint" targetElement="hint-panel" hintText="${hints.space.scientists}"/>
                                        </effect>
                                    </control>
                                    <panel width="10px"/>
                                    <control name="icon_and_count" id="engi_count" icon="resources/sprites/gui/engi_count.png" width="100px" height="50px">
                                        <effect>
                                            <onHover name="custom-hint" targetElement="hint-panel" hintText="${hints.space.engineers}"/>
                                        </effect>
                                    </control>
                                    <panel width="10px"/>
                                    <control name="icon_and_count" id="mil_count" icon="resources/sprites/gui/mil_count.png" width="100px" height="50px">
                                        <effect>
                                            <onHover name="custom-hint" targetElement="hint-panel" hintText="${hints.space.military}"/>
                                        </effect>
                                    </control>
                                </panel>
                                <panel width="10px"/>

                                <panel childLayout="horizontal"  style="nifty-panel-no-shadow">
                                    <image id="upgrade_icon" width="256px" height="256px"/>
                                    <panel width="10px"/>
                                    <panel width="*" childLayout="vertical" padding="10px">
                                        <text id="upgrade_name" style="bold-font" textHAlign="left"/>
                                        <panel height="10px"/>
                                        <text width="100%" wrap="true" style="base-font" textHAlign="left" id="upgrade_text"/>
                                    </panel>
                                    <panel width="5px"/>
                                </panel>
                                <panel width="5px"/>

                            </panel>
                            <!-- inventory and upgrades -->
                            <panel height="10px"/>

                            <panel childLayout="horizontal" height="60%">
                                <panel childLayout="vertical" width="45%">
                                    <text id="inventoryText" style="button-font" align="center" text="${gui.shipyard}"
                                          height="32px"/>
                                    <control id="storageList" name="listBox" vertical="optional" horizontal="optional"
                                             displayItems="10" selection="Single"
                                             viewConverterClass="ru.game.aurora.player.engineering.ShipUpgradeViewConverter"
                                             visibleToMouse="true"
                                            >
                                        <control name="shipyard_line"
                                                 controller="de.lessvoid.nifty.controls.listbox.ListBoxItemController">
                                            <effect>
                                                <onCustom customKey="focus" name="colorBar" post="false" color="#444f" neverStopRendering="true" timeType="infinite" />
                                                <onCustom customKey="select" name="colorBar" post="false" color="#444f" neverStopRendering="true" timeType="infinite" />
                                                <onCustom customKey="select" name="textColor" post="false" color="#fc0f" neverStopRendering="true" timeType="infinite" />
                                            </effect>
                                            <interact onClick="listBoxItemClicked()"/>
                                        </control>
                                    </control>
                                </panel>

                                <panel height="10px"/>

                                <panel childLayout="vertical" width="45%">
                                    <text id="storageText" style="button-font" align="center" text="${gui.ship}"
                                          height="32px"/>
                                    <control id="inventoryList" name="listBox" vertical="optional" horizontal="optional"
                                             displayItems="10" selection="Single"
                                             visibleToMouse="true"
                                             viewConverterClass="ru.game.aurora.player.engineering.ShipUpgradeViewConverter">
                                        <control name="ship_line"
                                                 controller="de.lessvoid.nifty.controls.listbox.ListBoxItemController">
                                            <effect>
                                                <onCustom customKey="focus" name="colorBar" post="false" color="#444f" neverStopRendering="true" timeType="infinite" />
                                                <onCustom customKey="select" name="colorBar" post="false" color="#444f" neverStopRendering="true" timeType="infinite" />
                                                <onCustom customKey="select" name="textColor" post="false" color="#fc0f" neverStopRendering="true" timeType="infinite" />
                                            </effect>
                                            <interact onClick="listBoxItemClicked()"/>
                                        </control>
                                    </control>
                                </panel>

                            </panel>


                        </control>
                    </control>
                    <panel height="10px"/>
                    <panel childLayout="horizontal">
                        <panel width="75%"/>
                        <control id="close_button" name="button" label="Close" width="150px" height="45px">
                            <interact onClick="closeScreen()"/>
                        </control>
                    </panel>
                </panel>
            </control>
        </layer>
    </screen>
</nifty>